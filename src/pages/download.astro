---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Download Your Learning Aid">
	<main style="max-width: 600px; margin: 0 auto; padding: 2rem; text-align: center;">
		<h1 style="font-size: 2.5rem; margin-bottom: 1rem;">Your Learning Aid is Ready!</h1>
		<p style="font-size: 1.1rem; line-height: 1.6; margin-bottom: 2rem;">
			Please provide your email address to receive the free PDF learning aid. You'll get a link to download the watermarked PDF, along with options for more advanced learning materials.
		</p>

		<div style="background-color: #f9f9f9; padding: 2rem; border-radius: 10px; border: 1px solid #eee;">
			<form id="downloadForm">
				<div style="margin-bottom: 1.5rem;">
					<label for="learnerEmail" style="display: block; text-align: left; margin-bottom: 0.5rem; font-weight: bold;">Your Email:</label>
					<input type="email" id="learnerEmail" name="learnerEmail" required
						style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem;">
				</div>
				<div style="margin-bottom: 1.5rem;">
					<label for="learnerName" style="display: block; text-align: left; margin-bottom: 0.5rem; font-weight: bold;">Your Name (Optional):</label>
					<input type="text" id="learnerName" name="learnerName"
						style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem;">
				</div>

				<div style="margin-bottom: 1.5rem; border-top: 1px solid #eee; padding-top: 1.5rem;">
					<p style="margin-bottom: 1rem; font-weight: bold;">Want to send it to someone else?</p>
					<label for="recipientEmail" style="display: block; text-align: left; margin-bottom: 0.5rem;">Recipient's Email (Optional):</label>
					<input type="email" id="recipientEmail" name="recipientEmail"
						style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem; margin-bottom: 1rem;">
					<label for="recipientName" style="display: block; text-align: left; margin-bottom: 0.5rem;">Recipient's Name (Optional):</label>
					<input type="text" id="recipientName" name="recipientName"
						style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem;">
				</div>

				<button type="submit" style="background-color: #28a745; color: white; padding: 12px 25px; border: none; border-radius: 5px; cursor: pointer; font-size: 1.1rem; margin-top: 1rem;">
					Get My PDF
				</button>
			</form>

			<script is:inline>
				const downloadForm = document.getElementById('downloadForm');
				downloadForm.addEventListener('submit', (event) => {
					event.preventDefault();
					const learnerEmail = document.getElementById('learnerEmail').value;
					const learnerName = document.getElementById('learnerName').value;
					const recipientEmail = document.getElementById('recipientEmail').value;
					const recipientName = document.getElementById('recipientName').value;

					console.log('Learner Email:', learnerEmail);
					console.log('Learner Name:', learnerName);
					console.log('Recipient Email:', recipientEmail);
					console.log('Recipient Name:', recipientName);

					// In a real application, this data would be sent to your backend/n8n
					// to trigger PDF delivery and list growth.
					alert('Thank you! Your PDF link will be sent to your email.');
					// Optionally redirect or show a success message
				});
			</script>
		</div>
	</main>
</Layout>
